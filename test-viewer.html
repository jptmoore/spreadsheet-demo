<!DOCTYPE html>
<html>
<head>
    <title>IIIF Tile Test</title>
    <script src="https://cdn.jsdelivr.net/npm/openseadragon@4.1/build/openseadragon/openseadragon.min.js"></script>
    <style>
        #viewer { width: 100%; height: 800px; }
        body { font-family: Arial, sans-serif; margin: 20px; }
    </style>
</head>
<body>
    <h1>IIIF Tile Test - Spreadsheet Demo</h1>
    <div id="status">Loading...</div>
    <div id="viewer"></div>
    <script>
        var viewer = OpenSeadragon({
            id: "viewer",
            prefixUrl: "https://cdn.jsdelivr.net/npm/openseadragon@4.1/build/openseadragon/images/",
            tileSources: {
                "@context": "http://iiif.io/api/image/2/context.json",
                "@id": "https://jptmoore.github.io/spreadsheet-demo/tiles",
                "protocol": "http://iiif.io/api/image",
                "width": 26132,
                "height": 11915,
                "profile": ["http://iiif.io/api/image/2/level0.json"],
                "tiles": [{
                    "width": 512,
                    "scaleFactors": [1, 2, 4, 8, 16, 32]
                }]
            },
            showNavigator: true,
            debugMode: true
        });
        
        viewer.addHandler('open', function() {
            document.getElementById('status').textContent = 'Tiles loaded successfully!';
            document.getElementById('status').style.color = 'green';
        });
        
        viewer.addHandler('open-failed', function(event) {
            document.getElementById('status').textContent = 'Failed to load: ' + event.message;
            document.getElementById('status').style.color = 'red';
        });
    </script>
</body>
</html>
